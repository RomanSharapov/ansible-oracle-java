---
# file: tasks/configure.yml

-   name: ensure that java installed via alternatives
    alternatives:
      name: java
      link: /usr/bin/java
      path: '{{ jdkHome }}/bin/java'
        
-   name: ensure that correct java version is selected
    alternatives:
      name: java
      path: '{{ jdkHome }}/bin/java'

-   name: Set JAVA_HOME
    lineinfile: 
      dest: /etc/environment 
      state: present
      regexp: '^JAVA_HOME'
      line: "JAVA_HOME={{ jdkHome }}"
    when: javaSetHome and not jdkCheck.jdkHomeFound